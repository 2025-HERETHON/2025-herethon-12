<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dearbebe</title>
    <link rel="stylesheet" href="{% static 'posts/common.css' %}" />
    <link rel="stylesheet" href="{% static 'posts/exchange_free.css' %}" />
    <script defer src="{% static 'posts/js/free.js' %}"></script>
    <!-- <link rel="stylesheet" href="/posts/static/posts/common.css" />
    <link rel="stylesheet" href="/posts/static/posts/exchange_free.css" />
    <script defer src="/posts/static/posts/js/free.js"></script> -->
  </head>
  <body>
    <div class="main-container">
      <!-- 신청 완료 모달 -->
      <div class="modal hidden">
        <p>나눔 신청이 완료 되었습니다.</p>
        <a href="{% url 'post_detail' item.item_id %}" id="ok">확인</a>
      </div>
      <div class="darken hidden"></div>

      <div class="header">
        <a href="javascript:history.back()" class="back-btn">
          <img src="{% static 'posts/images/back.svg' %}" alt="뒤로가기" />
        </a>
        <div class="header-title">나눔 신청</div>
        <p></p>
      </div>
      <form method="POST" action="" class="main-form">
        {% csrf_token %}
        <div class="place-container">
          <label for="place" class="text-label">거래 희망 장소</label>
          <div class="wrapper">
            <input type="text" maxlength="12" id="place" name="place" />
            <div class="limit">12자 이내</div>
          </div>
          <div class="error-msg hidden" id="place-err">
            필수 입력 사항입니다.
          </div>
        </div>
        <div class="desc-container">
          <label for="description" class="text-label">메모</label>
          <div class="wrapper">
            <textarea
              name="description"
              id="description"
              maxlength="200"
            ></textarea>
            <div class="limit">200자 이내</div>
          </div>
          <div class="error-msg hidden" id="desc-err">
            필수 입력 사항입니다.
          </div>
        </div>
        <div class="button-wrapper">
          <button type="submit" class="submit-btn">나눔 신청</button>
        </div>
      </form>
    </div>
  </body>
  {% if show_modal %}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelector(".modal").classList.remove("hidden");
      document.querySelector(".darken").classList.remove("hidden");
    });
  </script>
  {% endif %}
</html>
